# Business-Case-Study-with-MySQL

## Overview
---
This case study answered relevant business questions about revenue and profit performance over five months across different states, product lines, product categories, sales teams, and stores with MySQL. In the project, I explored order distributions across different sales channels and identified high-performing products, the most profitable product categories, and the most profitable regions, as well as MoM growth, to offer insights and recommendations with the potential to guide investment strategies, marketing campaigns to drive sales, and training for sales teams to generate more revenue.

---


## Dataset Structure
The database consists of four tables:

sales_data

product

store_location

sales_team

---


## Business Case Study Questions and Answers

---


### 1. How many transactions were recorded in total?
```sql
SELECT COUNT(*) AS total_transactions
FROM sales_data;
```
## Ouput:
| Total Transactions |
|--------------------|
| 20,000             |


### 2. How many transactions were generated by each sales channel and what percentage did each channel contribute?
```sql
SELECT sales_channel, 
COUNT(*) AS transactions_by_sales_channel, 
ROUND((COUNT(sales_channel) / (SELECT COUNT(*) FROM sales_data)) * 100, 2) AS trans_perc_by_sales_channel
FROM sales_data
GROUP BY sales_channel;
```
## Output:
| Sales Channel | Transactions by Sales Channel | Percentage Contribution (%) |
| ------------- | ----------------------------- | --------------------------- |
| Online        | 5,056                         | 25.28                       |
| Wholesale     | 4,916                         | 24.58                       |
| In-Store      | 5,040                         | 25.20                       |
| Distributor   | 4,988                         | 24.92                       |


### 3a. What is the average order quantity overall?
```sql
-- Overall average order quantity
SELECT AVG(order_quantity) AS avg_order_quantity
FROM sales_data;
```
## Ouput:
| Average Order Quantity |
|-----------------------|
| 5.5201                |


### 3b. What is the average order quantity by each sales channel?
-- Average order quantity by sales channel
```sql
SELECT sales_channel, AVG(order_quantity) AS avg_order_quantity_by_sales_channel
FROM sales_data
GROUP BY sales_channel
ORDER BY avg_order_quantity_by_sales_channel DESC;
```
## Output:
| Sales Channel | Average Order Quantity |
|---------------|-----------------------|
| Wholesale     | 5.5226                |
| Online        | 5.5562                |
| In-Store      | 5.4948                |
| Distributor   | 5.5066                |


> ðŸ“Œ**Insight:**
> The observed closeness between the overall average and the averages of sales channels demonstrates a high level of consistency in order quantity across individual channels. However, the observed closeness in the averages isn't a blank check for jumping into conclusion about the underlying data distribution. To reach a more definitive conclusion, a statistical test might have to be conducted to infer whether the observed closeness is statistically significant or just a byproduct of randomness.


### 3c. How many orders have quantities greater than the average order quantity?
```sql
WITH average_order_quantity(avg_order) AS
(SELECT AVG(order_quantity) FROM sales_data)
SELECT COUNT(*) AS order_quantities_greater_than_avg_ord_quantity
FROM sales_data, average_order_quantity
WHERE sales_data.order_quantity > average_order_quantity.avg_order;
```
## Output:
| Total Quantity Greater Than Average |
|---------|
| 10,027  |


> ðŸ“Œ**Insight:**
> Roughly 50.14% of order quantities are above the overall average order quantity of 5.521. This suggests that the data distribution is well-balanced and, to use a technical term, symmetrical. This means the data is not pulled toward a certain direction, either by higher values or lower values. Also, it indicates the absence of outliers--extreme values outside the general data distribution.

 
### 5. What is the total order quantity?
```sql
-- Total order quantity overall
SELECT SUM(order_quantity) AS total_order_quantity
FROM sales_data;
```
## Output:
| Total Order Quantity |
|---------------------|
| 110,402             |


## What is the total order quantity by sales channel, including percentage contributions?
```sql
-- Total order quantity by sales channel and percentage
SELECT sales_channel, SUM(order_quantity) AS total_order_quantity_by_sales_channel,
ROUND(SUM(order_quantity) / (SELECT SUM(order_quantity) FROM sales_data) * 100, 2) AS percentage_order_quantity
FROM sales_data
GROUP BY sales_channel
ORDER BY total_order_quantity_by_sales_channel DESC;
```
## Output:
| Sales Channel | Total Order Quantity | Percentage of Total Order Quantity (%) |
|---------------|---------------------|---------------------------------------|
| Online        | 28,092              | 25.45                                 |
| In-Store      | 27,694              | 25.08                                 |
| Distributor   | 27,467              | 24.88                                 |
| Wholesale     | 27,149              | 24.59                                 |


> **ðŸ“ŒInsight:**
> The distribution of order quantity across different sales channels is  highly even and balanced, although with a marginal difference. This might hypothetically suggest that the business has succeeded in effectively optimizing its sales channels to meet customers' preferences and needs. However, the slight difference in order quantity from online and in-store channels might be due to ease of access, convenience, rapidity, and efficiency of online transactions, as well as the absence of middlemen and favorable pricing. Nonetheless, the marginal differences in order quantities across individual channels indicate that customers are as comfortable with making their orders across all channels.


### 6a. What is the total revenue?
```sql
-- Total revenue
SELECT SUM(revenue) AS total_revenue
FROM sales_data;
```
## Output:
| Total Revenue     |
|-------------------|
| 44,365,025.97    |


### 6b. What is the total revenue by each sales channel and the percentage contributed by each channel?
-- Total revenue by sales channel and percentage
```sql
SELECT sales_channel,
SUM(revenue) AS total_revenue_by_sales_channel,
CONCAT(ROUND(SUM(revenue) / (SELECT SUM(revenue) FROM sales_data) * 100, 2), "%") AS percentage_revenue
FROM sales_data
GROUP BY sales_channel
ORDER BY percentage_revenue DESC;
```
## Output:
| Sales Channel | Revenue ($)     | Percentage of Total Revenue (%) |
|---------------|------------------|---------------------------------|
| Online        | 11,245,807.41    | 25.35                           |
| In-Store      | 11,135,610.97    | 25.10                           |
| Distributor   | 11,019,157.57    | 24.84                           |
| Wholesale     | 10,964,450.02    | 24.71                           |

> **ðŸ“ŒInsight:**
> The distribution of revenue is equally balanced. This is expected, considering that there are only marginal differences in order quantities across the sales channels. But there is even a more nuanced insight here: **prices of products purchased across the channels are almost the same**, as evidenced by the revenue figures. If online and in-store channels have more orders because of cheaper prices, then distributor and wholesale channels should have gained more revenue because the order quantities received by these channels were almost the same as online and in-store channels. This demystifies the early hypothesis that the marginal differences in online and in-store sales channels might be due to the absence of intermediaries (in this case, distributors and wholesalers), who might increase the price a little bit for personal gains and incentives.

### 7. What is the average revenue and profit of each product?
```sql
-- top ten products by average revenue and profit
SELECT product_name, AVG(average_revenue_by_product) AS average_revenue, AVG(average_profit_by_product) AS average_profit
FROM (SELECT product_name, AVG(revenue) AS average_revenue_by_product, AVG(profit) AS average_profit_by_product
FROM sales_data
INNER JOIN product
ON sales_data.product_index = product.product_index_number
GROUP BY product_name
ORDER BY average_revenue_by_product, average_profit_by_product DESC) sub
GROUP BY product_name
LIMIT 10;
```
## Output:
| Product             | Average Revenue ($) | Average Profit ($) |
|---------------------|---------------------|---------------------|
| Pendants            | 2,171.39            | 620.40              |
| Wall Coverings      | 2,164.75            | 618.50              |
| Wardrobes           | 2,164.25            | 618.36              |
| Bedroom Furniture   | 2,159.17            | 616.91              |
| Mirrors             | 2,154.11            | 615.46              |
| Baseball            | 2,153.11            | 615.17              |
| Floral              | 2,116.98            | 604.85              |
| Stemware            | 2,106.40            | 601.83              |
| Table Linens        | 2,095.04            | 598.58              |
| Home Fragrances     | 2,042.97            | 583.71              |


> **ðŸ“ŒInsight:**
> On average, revenues generated by each product are very close. This might potentially mean each product is popular among customers. However, these findings demonstrate that these ten products generate the highest profit and revenue on average. A much deeper analysis might be needed to uncover insights that are not immediately visible, especially the average price and the average order quantity of each product--in order to determine if some products feature prominently because they have higher prices with lower sales frequency, compared to other products that have cheaper prices with regular purchases. This might help the business identify which product lines contribute significantly to the company's bottom line and where to focus more efforts on.  


### 8. Which states generate profits above the average profit across all states?
```sql
WITH total_sales (state, total_profit_per_state) AS (
    SELECT state, SUM(profit) AS total_profit_per_state
    FROM sales_data
    INNER JOIN store_location
    ON sales_data.store_index = store_location.store_id
    GROUP BY state
    ORDER BY total_profit_per_state DESC
),
avg_sales (avg_profit_of_all_states) AS (
    SELECT AVG(total_profit_per_state) AS avg_profit_of_all_states FROM total_sales
)
SELECT state, total_profit_per_state
FROM total_sales, avg_sales
WHERE total_profit_per_state > avg_profit_of_all_states;
```
## Output:
| State           | Profit    |
|------------------|--------------|
| California       | 2,544,565.59 |
| Texas            | 1,313,916.03 |
| Illinois         | 1,044,330.11 |
| Florida          |   826,858.36 |
| New York         |   725,420.10 |
| Indiana          |   453,530.63 |
| Colorado         |   430,187.37 |
| Arizona          |   370,699.54 |
| Connecticut      |   351,693.62 |
| North Carolina   |   304,971.29 |
| Virginia         |   285,158.48 |
| Nevada           |   282,489.36 |

> **ðŸ“ŒInsight:**
> By profit, stores in California perform significantly better than stores in other above-average states by a wide margin. However, the first five stores generate more profits than the remaining stores in states that generate profits above the overall states average. A much deeper analysis reveals that a total profit of **12,675,721** was recorded across **45** states, which also shows that more states consistently underperform in profit generation. Beyond that, the top 12 states by profit account for **70.48%** of the total profit. This means less than **30%** of profits were contributed by a total number of 33 states! This also suggests that the overall states average is skewed by the profit of the top **12** states and demonstrates a substantial regional disparity. However, this insight is remarkably important and can help the company focus more of its investment strategies and allocaton of resources to these high profit-generating states. 


### 10. What is the total profit by product category?
```sql
-- Total profit by product category
SELECT product_name,
SUM(profit) AS total_profit_by_product
FROM sales_data
INNER JOIN product
ON sales_data.product_index = product.product_index_number
GROUP BY product_name
ORDER BY total_profit_by_product DESC;
```
## Output: 
| Product Category | Profit|
|------------------|--------------|
| Decoratives      | 3,804,343.70 |
| Furniture        | 1,858,236.64 |
| Kitchenery       | 1,320,731.82 |
| Electronics      | 1,084,871.04 |
| Drinkware        | 1,070,529.97 |
| Lighting         |   845,272.01 |
| Accessories      |   842,971.25 |
| Collections      |   824,881.73 |
| Beddings         |   518,989.47 |
| Sports           |   504,893.85 |

> **ðŸ“ŒInsight:**
> With a very wide margin, products under **decoratives** product category contributed the most to the total profit generated, leading the next product category by more than 100% in profit. Contrarily, **beddings** and **sports** product categories underperform remarkably. This might indicate either of these two factors: **lower sales frequency or regular sales frequency with cheaper prices, compared to products in other product categories.** But to accurately capture these nuances, more analysis will need to be conducted to determine the main driver of these profit disparities among product category, especially by comparing average order quantity and average price of products under each product category.


### 11. How did sales team perform by revenue?
```sql
-- Revenue 
SELECT sales_team,
SUM(revenue) AS revenue_by_sales_team
FROM sales_data
INNER JOIN sales_team
ON sales_data.sales_team_index = sales_team.sales_index
GROUP BY sales_team
ORDER BY revenue_by_sales_team DESC;
```
## Output:
| Sales Team  | Revenue ($)    |
|------------------------|----------------|
| Nicholas Cunningham    | 1,856,248.05   |
| Donald Reynolds        | 1,797,952.47   |
| Joe Price              | 1,773,075.66   |
| Shawn Wallace          | 1,766,373.08   |
| Carl Nguyen            | 1,753,377.09   |
| Paul Holmes            | 1,739,916.73   |
| Adam Hernandez         | 1,739,700.74   |
| Shawn Cook             | 1,733,209.79   |
| Anthony Berry          | 1,727,917.55   |
| Patrick Graham         | 1,727,111.39   |
| George Lewis           | 1,711,286.73   |
| Roy Rice               | 1,709,396.82   |
| Chris Armstrong        | 1,708,302.34   |
| Joshua Little          | 1,705,259.70   |
| Joshua Bennett         | 1,691,836.29   |
| Jonathan Hawkins       | 1,681,168.11   |
| Frank Brown            | 1,673,835.54   |
| Joshua Ryan            | 1,669,713.74   |
| Roger Alexander        | 1,668,651.55   |
| Samuel Fowler          | 1,662,619.45   |
| Todd Roberts           | 1,661,171.10   |
| Keith Griffin          | 1,657,718.77   |
| Joshua Kenedy          | 1,651,129.58   |
| Jerry Green            | 1,639,894.67   |
| Stephen Payne          | 1,631,126.30   |
| Douglas Tucker         | 1,627,032.73   |

> **ðŸ“ŒInsight:**
> Revenue performance across the sales team is fairly consistent. Yes, differences exist. But these differences are highly marginal. The consistent performance of each sales team in generating revenue may be an indication that investments in sales & marketing pay huge dividends. But correlation doesn't imply causation. To accurately determine the main drivers of this consistency, further analysis might be required. 


### 12. What is the monthly revenue and its growth percentage over time?
```sql
SELECT YEAR(sales_date) AS years, MONTH(sales_date) AS months,
SUM(revenue) AS monthly_revenue,
(SUM(revenue) - LAG(SUM(revenue), 1, 0) OVER (ORDER BY YEAR(sales_date), MONTH(sales_date)))
/ LAG(SUM(revenue), 1, 0) OVER (ORDER BY YEAR(sales_date), MONTH(sales_date)) * 100 AS monthly_growth_percentage
FROM sales_data 
GROUP BY YEAR(sales_date), MONTH(sales_date)
ORDER BY YEAR(sales_date), MONTH(sales_date);
```
## Output:
| Year | Month | Revenue   | % Monthly Growth |
|------|-------|---------------|------------------|
| 2020 | 1     | 9,069,089.21  |                  |
| 2020 | 2     | 8,557,314.48  | -5.643066       |
| 2020 | 3     | 8,942,371.44  | 4.499741        |
| 2020 | 4     | 8,619,194.57  | -3.613995       |
| 2020 | 5     | 9,177,056.27  | 6.472318        |

> **ðŸ“ŒInsight:**
> The trend shows that fluctuations in monthly growth exist across the five months. In February, revenue dropped by 5.64%. Although it experienced a moderate uptick in March and suffered another sharp decrease in April, the overall growth remained below the January peak. It was only in May that the revenue slightly recovered and surpassed January's figures. What are the potential causes of the decrease in revenue in these three months? Could it be that the company didn't invest in enough sales promotion and marketing campaigns, give discounts, or was revenue adversely affected by general economic trends or seasonal trends? Further investigations might be required to answer the questions of potential causes.
